@import "src/theme";

$border: var(--border, 15px);
$width: var(--width, 200px);
$percentage: var(--percentage, 100);
$color: $brand-primary;

.pie {
    width: $width;
    aspect-ratio:1;
    position:relative;
    display:inline-grid;
    margin:5px;
    place-content:center;
    font-size:25px;
    font-weight:bold;
    font-family:sans-serif;
    transition: all 100ms ease-in;
}
.pie:before,
.pie:after {
    content:"";
    position:absolute;
    border-radius:50%;
}
.pie:before {
    inset:0;
    background:
        //radial-gradient(farthest-side,var(--c) 98%,#0001) top/var(--b) var(--b) no-repeat, // It renders a round pointer on the start
        conic-gradient( $brand-secondary 0 ,$color calc($percentage *1%), #0000 0), radial-gradient( farthest-side, #{$brand-secondary}44 0, transparent 100%);
    -webkit-mask:radial-gradient(farthest-side,#0000 calc(99% - $border),#000 calc(100% - $border));
    mask:radial-gradient(farthest-side,#0000 calc(99% - $border),#000 calc(100% - $border));
    transition: all 100ms ease-in;
}
.pie:after {
    inset:calc(50% - $border/2);
    background: $color;
    transform:rotate(calc($percentage *3.6deg)) translateY( calc(50% -  $width / 2));
}